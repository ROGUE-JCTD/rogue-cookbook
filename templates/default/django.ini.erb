[uwsgi]

virtualenv = <%= node['rogue']['geonode']['location'] %>

logto = <%= node['rogue']['logging']['location'] %>/rogue_geonode.log
log-maxsize = 20971520

uid = www-data
gid = www-data

# master
master                  = true
#master-as-root          = true

# maximum number of processes
processes               = 10

# the socket (use the full path to be safe)
socket          = /var/run/geonode.sock

# with appropriate permissions - *may* be needed
chmod-socket    = 644
chown-socket    = www-data

# the base directory
chdir           = <%= node['rogue']['rogue_geonode']['location'] %>

# Django's wsgi file
module          = geoshape.wsgi

# the virtualenv
home            = <%= node['rogue']['geonode']['location'] %>

# clear environment on exit
vacuum          = true
